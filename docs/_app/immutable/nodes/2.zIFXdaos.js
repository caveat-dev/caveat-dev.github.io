import{s as G,n as O,r as J,o as K,d as q}from"../chunks/scheduler.CoCxny8d.js";import{S as Q,i as X,e as H,s as M,c as v,f as C,n as z,a as R,d as b,o as p,p as W,g as x,h as k,q as j,r as U}from"../chunks/index.geLg2XNu.js";var S=(e=>(e.Text="#cdd6f4",e.Error="#f38ba8",e.Warning="#f9e2af",e.Success="#a6e3a1",e.Heading1="#cba6f7",e.Heading2="#89b4fa",e.Heading3="#94e2d5",e.Link="#89b4fa",e.Command="#f5e0dc",e))(S||{});function B(e){e.replaceAll(`
`,"<br>");let l=new RegExp(String.raw`\S*(?<!https|http):`,"g");return Array.from(e.matchAll(l),n=>{e=e.replaceAll(n[0],`<span style='color: #cba6f7'>${n[0].substring(0,n[0].length)}</span>`)}),f.forEach(n=>{let r=new RegExp(String.raw`\[${n.aliases}\]`,"g");e=e.replaceAll(r,`<span style='color: #f5e0dc'>${Y(n)}</span>`)}),l=new RegExp(String.raw`(https)://\S*`,"g"),Array.from(e.matchAll(l),n=>{e=e.replaceAll(n[0],`<span style='color: #89b4fa'>${n[0]}</span>`)}),e=e.replaceAll("+"," ")+"<br>",`<span style="word-break: normal; hyphens: auto">${e}</span>`}function Y(e){return`[${e.aliases.toString().replaceAll(",",", ")}]`}const Z="&lt;",$="&gt;",f=[{aliases:["welcome"],description:"Displays the welcome message.",usage:"welcome",callback:e=>{if(e.length!==0)return A(f[0]);let l=`Welcome to https://caveat.cc!
Type [${f[1].aliases}] for a list of commands.`;return{result:!0,text:B(l),historyChanged:!1,newHistory:null}}},{aliases:["help","h"],description:"Displays available commands.",usage:`help, help ${Z}#page${$}`,callback:e=>{let l=1;if(e.length>1)return A(f[1]);if(e.length!=0){if(l=Number.parseInt(e[0]),isNaN(l))return A(f[1]);l=Math.max(1,l),l=Math.min(Math.ceil(f.length/3),l)}let n=l*3-3,r=Math.min(n+2,f.length-1),h="";for(let i=n;i<=r;i++)h+=`[${f[i].aliases}]
Description: ${f[i].description}
Usage: ${f[i].usage}
`;return h+=`Page ${l}/${Math.ceil(f.length/3)}`,{result:!0,text:B(h),historyChanged:!1,newHistory:null}}},{aliases:["clear","cls"],description:"Clears the screen.",usage:"cls",callback:e=>e.length!==0?A(f[2]):{result:!0,text:null,historyChanged:!0,newHistory:""}},{aliases:["accounts"],description:"Displays Caveat's git pages, socials and other accounts online.",usage:"accounts",callback:e=>e.length!==0?A(f[3]):{result:!0,text:B(`Email: cv@caveat.cc
Discord: caveat__
Git+Accounts:
https://codeberg.org/caveat (preferred)
https://github.com/caveat-dev`),historyChanged:!1,newHistory:null}},{aliases:["bio"],description:"Displays Caveat's bio.",usage:"bio",callback:e=>e.length!==0?A(f[4]):{result:!0,text:B(`Caveat (often stylized as caveat, full name Caveat Emptor) is an amateur developer and FOSS enthusiast from North America.
They enjoy developing programs in Rust and Haskell, but begrudgingly use Javascript the most.
Watch them develop open-source software that nobody uses!`),historyChanged:!1,newHistory:null}}];function F(e,l,n){let r=e.split(" "),h={result:!1,text:`<span style="color: ${S.Error}">Error:</span> command not found: '${r[0]}'`,historyChanged:!1,newHistory:null};return r.forEach(i=>{f.forEach(s=>{if(s.aliases.includes(i)){h=s.callback(r.slice(1,r.length),l,n);return}})}),h}function A(e){return{result:!1,text:`<span style="color: ${S.Error}">Error:</span> invalid args provided.
<span style="color: ${S.Heading1}">Usage:</span> <span style="color: ${S.Command}">[${e.usage.toString().replaceAll(",",", ")}]</span>
`,historyChanged:!1,newHistory:null}}function ee(e){let l,n,r,h="github.com",i,s,u="cv@caveat.cc",w,o,c,T,_,E,d,g,I=">",L,m,P='<span class="terminal-cursor">▌</span>',D,N;return{c(){l=H("link"),n=M(),r=H("a"),r.textContent=h,i=M(),s=H("a"),s.textContent=u,w=M(),o=H("div"),c=H("input"),T=M(),_=H("p"),E=M(),d=H("div"),g=H("p"),g.textContent=I,L=M(),m=H("p"),m.innerHTML=P,this.h()},l(a){l=v(a,"LINK",{href:!0,rel:!0,style:!0}),n=C(a),r=v(a,"A",{href:!0,rel:!0,target:!0,style:!0,"data-svelte-h":!0}),z(r)!=="svelte-ewq668"&&(r.textContent=h),i=C(a),s=v(a,"A",{href:!0,rel:!0,target:!0,style:!0,"data-svelte-h":!0}),z(s)!=="svelte-17wtamf"&&(s.textContent=u),w=C(a),o=v(a,"DIV",{class:!0});var t=R(o);c=v(t,"INPUT",{class:!0,id:!0,type:!0}),T=C(t),_=v(t,"P",{class:!0}),R(_).forEach(b),E=C(t),d=v(t,"DIV",{class:!0});var y=R(d);g=v(y,"P",{class:!0,"data-svelte-h":!0}),z(g)!=="svelte-10h5qpw"&&(g.textContent=I),L=C(y),m=v(y,"P",{class:!0,"data-svelte-h":!0}),z(m)!=="svelte-53k1fx"&&(m.innerHTML=P),y.forEach(b),t.forEach(b),this.h()},h(){p(l,"href","https://indieauth.com/auth"),p(l,"rel","authorization_endpoint"),W(l,"visibility","hidden"),p(r,"href","https://github.com/caveat-dev"),p(r,"rel","me"),p(r,"target","_blank"),W(r,"visibility","hidden"),p(s,"href","mailto:cv@caveat.cc"),p(s,"rel","me"),p(s,"target","_blank"),W(s,"visibility","hidden"),p(c,"class","terminal-input"),p(c,"id","terminal-input"),p(c,"type","text"),p(_,"class","terminal-history"),p(g,"class","terminal-prompt"),p(m,"class","terminal-fake-input"),p(d,"class","terminal-fake-input-container"),p(o,"class","terminal-container")},m(a,t){x(a,l,t),x(a,n,t),x(a,r,t),x(a,i,t),x(a,s,t),x(a,w,t),x(a,o,t),k(o,c),e[9](c),j(c,e[4]),k(o,T),k(o,_),e[13](_),k(o,E),k(o,d),k(d,g),k(d,L),k(d,m),e[14](m),e[15](o),D||(N=[U(c,"input",e[10]),U(c,"keydown",e[11]),U(c,"keyup",e[12])],D=!0)},p(a,[t]){t&16&&c.value!==a[4]&&j(c,a[4])},i:O,o:O,d(a){a&&(b(l),b(n),b(r),b(i),b(s),b(w),b(o)),e[9](null),e[13](null),e[14](null),e[15](null),D=!1,J(N)}}}function te(e,l,n){let r,h,i,s,u="",w=!1,o=!0;K(()=>{h.focus(),c(),window.addEventListener("resize",c),setInterval(()=>{w?n(6,o=!0):n(6,o=!o)},1e3),setInterval(()=>{d(u,o)},1),_(F("welcome",u,s.innerHTML).text||"")});function c(){if(!r)return;let t=Math.min(window.innerHeight,window.innerWidth)*.95;n(0,r.style.width=t+"px",r),n(0,r.style.height=t+"px",r),T()}function T(){if(!r||!s)return;let t=0;for(;s.clientHeight+30>=r.clientHeight&&t<1e3;){const y=s.innerHTML.indexOf("<br>"),V=s.innerHTML;n(3,s.innerHTML=V.substring(y+4,V.length),s),t++}}function _(t){s&&(n(3,s.innerHTML+=t,s),T())}function E(t,y=!0){n(3,s.innerHTML+='<span class="terminal-prompt-history">></span> ',s),y?n(3,s.innerHTML+=`<span class="terminal-history-command-success"">${t}</span>`,s):n(3,s.innerHTML+=`<span class="terminal-history-command-failure"">${t}</span>`,s),n(3,s.innerHTML+="<br>",s)}function d(t,y){i&&(n(2,i.innerHTML=t,i),y&&n(2,i.innerHTML+='<span class="terminal-cursor">▌</span>',i))}function g(){let t=F(u,u,s.innerHTML);E(u,t.result),_(t.text||""),t.result&&t.historyChanged&&n(3,s.innerHTML=t.newHistory||"",s),n(4,u="")}function I(t){q[t?"unshift":"push"](()=>{h=t,n(1,h)})}function L(){u=this.value,n(4,u)}const m=()=>{n(5,w=!0)},P=t=>{t&&(t.key==="Enter"?(d("",o),g()):t.key==="Delete"?n(4,u=u.substring(0,u.length-1)):n(4,u+=h.innerText),n(5,w=!1))};function D(t){q[t?"unshift":"push"](()=>{s=t,n(3,s)})}function N(t){q[t?"unshift":"push"](()=>{i=t,n(2,i)})}function a(t){q[t?"unshift":"push"](()=>{r=t,n(0,r)})}return[r,h,i,s,u,w,o,d,g,I,L,m,P,D,N,a]}class re extends Q{constructor(l){super(),X(this,l,te,ee,G,{})}}export{re as component};
